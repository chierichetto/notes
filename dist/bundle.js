!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){e.exports=function(){"use strict";
/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}var i=RegExp.prototype.test,a=/\S/;function s(e){return!function(e,t){return i.call(e,t)}(a,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,l=/\s+/,p=/\s*=/,d=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function h(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,r,i,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var s,c,u,l=this,p=!1;l;){if(e.indexOf(".")>0)for(s=l.view,c=e.split("."),u=0;null!=s&&u<c.length;)u===c.length-1&&(p=o(s,c[u])||(r=s,i=c[u],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(i))),s=s[c[u++]];else s=l.view[e],p=o(l.view,e);if(p){t=s;break}l=l.parent}a[e]=t}return n(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},v.prototype.parse=function(e,n){var o=this.templateCache,i=e+":"+(n||y.tags).join(":"),a=void 0!==o,c=a?o.get(i):void 0;return null==c&&(c=function(e,n){if(!e)return[];var o,i,a,c=!1,g=[],v=[],m=[],w=!1,b=!1,x="",S=0;function k(){if(w&&!b)for(;m.length;)delete v[m.pop()];else m=[];w=!1,b=!1}function N(e){if("string"==typeof e&&(e=e.split(l,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);o=new RegExp(r(e[0])+"\\s*"),i=new RegExp("\\s*"+r(e[1])),a=new RegExp("\\s*"+r("}"+e[1]))}N(n||y.tags);for(var T,C,E,M,j,I,L=new h(e);!L.eos();){if(T=L.pos,E=L.scanUntil(o))for(var O=0,U=E.length;O<U;++O)s(M=E.charAt(O))?(m.push(v.length),x+=M):(b=!0,c=!0,x+=" "),v.push(["text",M,T,T+1]),T+=1,"\n"===M&&(k(),x="",S=0,c=!1);if(!L.scan(o))break;if(w=!0,C=L.scan(f)||"name",L.scan(u),"="===C?(E=L.scanUntil(p),L.scan(p),L.scanUntil(i)):"{"===C?(E=L.scanUntil(a),L.scan(d),L.scanUntil(i),C="&"):E=L.scanUntil(i),!L.scan(i))throw new Error("Unclosed tag at "+L.pos);if(j=">"==C?[C,E,T,L.pos,x,S,c]:[C,E,T,L.pos],S++,v.push(j),"#"===C||"^"===C)g.push(j);else if("/"===C){if(!(I=g.pop()))throw new Error('Unopened section "'+E+'" at '+T);if(I[1]!==E)throw new Error('Unclosed section "'+I[1]+'" at '+T)}else"name"===C||"{"===C||"&"===C?b=!0:"="===C&&N(E)}if(k(),I=g.pop())throw new Error('Unclosed section "'+I[1]+'" at '+L.pos);return function(e){for(var t,n=[],r=n,o=[],i=0,a=e.length;i<a;++i)switch((t=e[i])[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":o.pop()[5]=t[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(v))}(e,n),a&&o.set(i,c)),c},v.prototype.render=function(e,t,n,r){var o=this.parse(e,r),i=t instanceof g?t:new g(t,void 0);return this.renderTokens(o,i,n,e,r)},v.prototype.renderTokens=function(e,t,n,r,o){for(var i,a,s,c="",u=0,l=e.length;u<l;++u)s=void 0,"#"===(a=(i=e[u])[0])?s=this.renderSection(i,t,n,r):"^"===a?s=this.renderInverted(i,t,n,r):">"===a?s=this.renderPartial(i,t,n,o):"&"===a?s=this.unescapedValue(i,t):"name"===a?s=this.escapedValue(i,t):"text"===a&&(s=this.rawValue(i)),void 0!==s&&(c+=s);return c},v.prototype.renderSection=function(e,r,o,i){var a=this,s="",c=r.lookup(e[1]);if(c){if(t(c))for(var u=0,l=c.length;u<l;++u)s+=this.renderTokens(e[4],r.push(c[u]),o,i);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)s+=this.renderTokens(e[4],r.push(c),o,i);else if(n(c)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(r.view,i.slice(e[3],e[5]),(function(e){return a.render(e,r,o)})))&&(s+=c)}else s+=this.renderTokens(e[4],r,o,i);return s}},v.prototype.renderInverted=function(e,n,r,o){var i=n.lookup(e[1]);if(!i||t(i)&&0===i.length)return this.renderTokens(e[4],n,r,o)},v.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),o=e.split("\n"),i=0;i<o.length;i++)o[i].length&&(i>0||!n)&&(o[i]=r+o[i]);return o.join("\n")},v.prototype.renderPartial=function(e,t,r,o){if(r){var i=n(r)?r(e[1]):r[e[1]];if(null!=i){var a=e[6],s=e[5],c=e[4],u=i;return 0==s&&c&&(u=this.indentPartial(i,c,a)),this.renderTokens(this.parse(u,o),t,r,u,o)}}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return y.escape(n)},v.prototype.rawValue=function(e){return e[1]};var y={name:"mustache.js",version:"4.0.1",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){m.templateCache=e},get templateCache(){return m.templateCache}},m=new v;return y.clearCache=function(){return m.clearCache()},y.parse=function(e,t){return m.parse(e,t)},y.render=function(e,n,r,o){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return m.render(e,n,r,o)},y.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))},y.Scanner=h,y.Context=g,y.Writer=v,y}()},function(e,t,n){var r=n(2),o=n(3);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var p=s(l),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==p?(a[p].references++,a[p].updater(d)):a.push({identifier:l,updater:v(d,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,p=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=p(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,g=0;function v(e,t){var n,r,o;if(t.singleton){var i=g++;n=h||(h=u(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=u(t),r=f.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=c(e,t),u=0;u<n.length;u++){var l=s(n[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(e,t,n){(t=n(4)(!1)).push([e.i,"*{margin:0;padding:0;box-sizing:border-box}*::selection{background:#f06d0650}body{font-family:Jost, 'sans-serif';background:#2f2d2e;color:#f8f8f8;margin:10px}#new-note{position:fixed;right:10px;top:10px;z-index:10;background:#048ba8;width:50px;height:50px;border-radius:50%;display:grid;place-items:center;color:white;cursor:pointer}#new-note:hover{color:#2e4057}@media screen and (max-width: 480px){#new-note{bottom:10px;top:initial;position:fixed}}#notes{display:block;column-count:4;column-gap:20px;column-fill:auto;column-width:300px;height:calc(100vh - 40px)}@media screen and (max-width: 480px){#notes{column-count:1;height:initial}}.note{display:flex;background:#fdf38d;color:#2f2d2e;margin-bottom:20px;break-inside:avoid}.note .note-header{display:flex;align-items:center;justify-content:space-between}.note .note-header i{font-size:1rem;cursor:pointer;color:#2f2d2e}.note .note-header h2{font-size:1rem;font-weight:300}.note .note-header .note-actions{display:flex;align-items:center}.note .note-color-select{display:flex;align-items:center;position:relative;align-self:flex-start}.note .note-color-select ul{list-style-type:none;background:white;padding:5px}.note .note-color-select ul li{height:20px;width:20px;cursor:pointer}.--yellow{background:#fdf38d}.--green{background:#afffa7}.--pink{background:#eab4ff}.--red{background:#ff9696}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";n.r(t);n(1);var r=n(0),o=Intl.DateTimeFormat,i=function(){function e(e){this.template=document.querySelector('[data-id="tpl-note"]').innerHTML,this.container=e}return e.prototype.setId=function(e){this.id=e},e.prototype.setTitle=function(e){this.title=e},e.prototype.setContent=function(e){this.content=e},e.prototype.setStatus=function(e){this.status=e},e.prototype.getId=function(){return this.id},e.prototype.getTitle=function(){return this.title},e.prototype.getContent=function(){return this.content},e.prototype.getStatus=function(){return this.status},e.generateId=function(){return Math.floor(1e8*Math.random())},e.prototype.setColor=function(e){this.color=e},e.prototype.getColor=function(){return this.color},e.prototype.render=function(){var e=this.getData(),t=document.createElement("div");t.innerHTML=r.render(this.template,e),this.container.appendChild(t)},e.createNewNote=function(t){var n=new e(t),r=new o("no-NB",e.dateOptions);return n.id=e.generateId(),n.title=r.format(Date.now()),n.content=e.oneLiners[Math.floor(Math.random()*e.oneLiners.length)],n},e.prototype.getData=function(){return{id:this.id,content:this.content,title:this.title,status:this.status,color:this.color}},e.oneLiners=['What is the biggest lie in the entire universe? <br>"I have read and agree to the Terms & Conditions."',"How does a computer get drunk? <br>It takes screenshots. ","Have you heard of that new band \"1023 Megabytes\"? They're pretty good, but they don't have a gig just yet.","We'll we'll we'll...if it isn't autocorrect.",'My computer suddenly started belting out "Someone Like You." It\'s a Dell. '],e.dateOptions={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},e}(),a=function(){function e(e){this.container=e,this.template=document.querySelector('[data-id="tpl-notes"]').innerHTML,this.noteTemplate=document.querySelector('[data-id="tpl-note"]').innerHTML,this.data=this.getData(),this.render(),this.setup()}return e.init=function(t){new e(t)},e.prototype.setup=function(){var e=this;({newBtn:document.querySelector("#new-note")}).newBtn.addEventListener("click",(function(){e.createNewNote()})),document.addEventListener("keydown",(function(t){t.shiftKey&&t.ctrlKey&&"N"===t.key&&(t.preventDefault(),t.stopPropagation(),e.createNewNote())}))},e.prototype.save=function(){var e=JSON.stringify(this.data.notes);localStorage.setItem("notes",e)},e.prototype.getSavedNotes=function(){var e=localStorage.getItem("notes");return e?JSON.parse(e):[i.createNewNote(this.container)]},e.prototype.render=function(){var e=this.template,t={note:this.noteTemplate},n={data:this.data};this.container.innerHTML=r.render(e,n,t),this.setupNotes()},e.prototype.createNewNote=function(){var e=i.createNewNote(this.container);this.data.notes.push(e.getData()),this.save(),this.render();var t=this.container.querySelector('[data-id="'+e.getId()+'"]').querySelector(".note-content"),n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r)},e.prototype.getData=function(){return{notes:this.getSavedNotes()}},e.prototype.getNoteById=function(e){for(var t=0,n=this.data.notes;t<n.length;t++){var r=n[t];if(e===r.id)return r}return{}},e.prototype.setupNotes=function(){for(var e=0,t={notes:this.container.querySelectorAll(".note")}.notes;e<t.length;e++){var n=t[e];this.setupNote(n)}},e.prototype.setupNote=function(e){var t,n=this,r=parseInt(e.dataset.id),o={delete:e.querySelector(".delete-note"),title:e.querySelector("h2.note-title"),content:e.querySelector("p.note-content"),colorSelect:e.querySelector(".note-color-select")};o.delete.addEventListener("click",(function(){n.deleteNote(r)})),o.title.addEventListener("input",(function(e){clearTimeout(t),t=setTimeout((function(){n.getNoteById(r).title=e.target.innerText,n.save()}),200)})),o.content.addEventListener("input",(function(e){clearTimeout(t),t=setTimeout((function(){n.getNoteById(r).content=e.target.innerHTML,n.save()}),200)})),o.title.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),n.getNoteById(r).title=e.target.innerText,o.title.blur(),n.save())})),o.content.addEventListener("keydown",(function(e){"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),n.getNoteById(r).content=e.target.innerHTML,o.content.blur(),n.save(),n.createNewNote())})),o.colorSelect.addEventListener("click",(function(e){console.log(e);var t=n.getNoteById(r);e.target.dataset.color&&(t.color=e.target.dataset.color),n.save(),n.render()}))},e.prototype.deleteNote=function(e){this.data.notes=this.data.notes.filter((function(t){return t.id!==e})),this.save(),this.render()},e}();document.addEventListener("DOMContentLoaded",(function(){a.init(document.querySelector("#notes"))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL211c3RhY2hlL211c3RhY2hlLmpzIiwid2VicGFjazovLy8uL3NyYy9jc3MvbWFpbi5zY3NzP2U5ZGMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9jc3MvbWFpbi5zY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05vdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05vdGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm9iamVjdFRvU3RyaW5nIiwidG9TdHJpbmciLCJpc0FycmF5IiwiQXJyYXkiLCJpc0Z1bmN0aW9uIiwiZXNjYXBlUmVnRXhwIiwic3RyaW5nIiwicmVwbGFjZSIsImhhc1Byb3BlcnR5Iiwib2JqIiwicHJvcE5hbWUiLCJyZWdFeHBUZXN0IiwiUmVnRXhwIiwidGVzdCIsIm5vblNwYWNlUmUiLCJpc1doaXRlc3BhY2UiLCJyZSIsInRlc3RSZWdFeHAiLCJlbnRpdHlNYXAiLCJ3aGl0ZVJlIiwic3BhY2VSZSIsImVxdWFsc1JlIiwiY3VybHlSZSIsInRhZ1JlIiwiU2Nhbm5lciIsInRoaXMiLCJ0YWlsIiwicG9zIiwiQ29udGV4dCIsInZpZXciLCJwYXJlbnRDb250ZXh0IiwiY2FjaGUiLCJwYXJlbnQiLCJXcml0ZXIiLCJ0ZW1wbGF0ZUNhY2hlIiwiX2NhY2hlIiwic2V0IiwiY2xlYXIiLCJlb3MiLCJzY2FuIiwibWF0Y2giLCJpbmRleCIsInN1YnN0cmluZyIsImxlbmd0aCIsInNjYW5VbnRpbCIsInNlYXJjaCIsInB1c2giLCJsb29rdXAiLCJwcmltaXRpdmUiLCJpbnRlcm1lZGlhdGVWYWx1ZSIsIm5hbWVzIiwiY29udGV4dCIsImxvb2t1cEhpdCIsImluZGV4T2YiLCJzcGxpdCIsImNsZWFyQ2FjaGUiLCJwYXJzZSIsInRlbXBsYXRlIiwidGFncyIsImNhY2hlS2V5IiwibXVzdGFjaGUiLCJqb2luIiwiaXNDYWNoZUVuYWJsZWQiLCJ0b2tlbnMiLCJ1bmRlZmluZWQiLCJvcGVuaW5nVGFnUmUiLCJjbG9zaW5nVGFnUmUiLCJjbG9zaW5nQ3VybHlSZSIsImxpbmVIYXNOb25TcGFjZSIsInNlY3Rpb25zIiwic3BhY2VzIiwiaGFzVGFnIiwibm9uU3BhY2UiLCJpbmRlbnRhdGlvbiIsInRhZ0luZGV4Iiwic3RyaXBTcGFjZSIsInBvcCIsImNvbXBpbGVUYWdzIiwidGFnc1RvQ29tcGlsZSIsIkVycm9yIiwic3RhcnQiLCJ0eXBlIiwiY2hyIiwidG9rZW4iLCJvcGVuU2VjdGlvbiIsInNjYW5uZXIiLCJ2YWx1ZUxlbmd0aCIsImNoYXJBdCIsIm5lc3RlZFRva2VucyIsImNvbGxlY3RvciIsIm51bVRva2VucyIsIm5lc3RUb2tlbnMiLCJsYXN0VG9rZW4iLCJzcXVhc2hlZFRva2VucyIsInNxdWFzaFRva2VucyIsInBhcnNlVGVtcGxhdGUiLCJyZW5kZXIiLCJwYXJ0aWFscyIsInJlbmRlclRva2VucyIsIm9yaWdpbmFsVGVtcGxhdGUiLCJzeW1ib2wiLCJidWZmZXIiLCJyZW5kZXJTZWN0aW9uIiwicmVuZGVySW52ZXJ0ZWQiLCJyZW5kZXJQYXJ0aWFsIiwidW5lc2NhcGVkVmFsdWUiLCJlc2NhcGVkVmFsdWUiLCJyYXdWYWx1ZSIsInNlbGYiLCJqIiwic2xpY2UiLCJpbmRlbnRQYXJ0aWFsIiwicGFydGlhbCIsImZpbHRlcmVkSW5kZW50YXRpb24iLCJwYXJ0aWFsQnlObCIsImluZGVudGVkVmFsdWUiLCJlc2NhcGUiLCJ2ZXJzaW9uIiwiZGVmYXVsdFdyaXRlciIsIlR5cGVFcnJvciIsIlN0cmluZyIsImZhY3RvcnkiLCJhcGkiLCJjb250ZW50IiwiZGVmYXVsdCIsIm9wdGlvbnMiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJsaXN0IiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0IiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJ1c2VTb3VyY2VNYXAiLCJtYXAiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsImJhc2U2NCIsImRhdGEiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJEYXRlVGltZUZvcm1hdCIsIkludGwiLCJjb250YWluZXIiLCJpbm5lckhUTUwiLCJzZXRJZCIsInNldFRpdGxlIiwidGl0bGUiLCJzZXRDb250ZW50Iiwic2V0U3RhdHVzIiwic3RhdHVzIiwiZ2V0SWQiLCJnZXRUaXRsZSIsImdldENvbnRlbnQiLCJnZXRTdGF0dXMiLCJnZW5lcmF0ZUlkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2V0Q29sb3IiLCJjb2xvciIsImdldENvbG9yIiwiZ2V0RGF0YSIsImVsIiwiY3JlYXRlTmV3Tm90ZSIsIk5vdGUiLCJkdGYiLCJkYXRlT3B0aW9ucyIsImZvcm1hdCIsIkRhdGUiLCJub3ciLCJvbmVMaW5lcnMiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlIiwibm90ZVRlbXBsYXRlIiwic2V0dXAiLCJpbml0IiwiTm90ZXMiLCJuZXdCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJzaGlmdEtleSIsImN0cmxLZXkiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInNhdmUiLCJub3RlcyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRTYXZlZE5vdGVzIiwiZ2V0SXRlbSIsImh0bWwiLCJub3RlIiwic2V0dXBOb3RlcyIsInNlbGVjdGlvbiIsImdldFNlbGVjdGlvbiIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsImdldE5vdGVCeUlkIiwicXVlcnlTZWxlY3RvckFsbCIsInNldHVwTm90ZSIsInRpbWVvdXRJZCIsInBhcnNlSW50IiwiZGF0YXNldCIsImVsZW1lbnRzIiwiZGVsZXRlIiwiY29sb3JTZWxlY3QiLCJkZWxldGVOb3RlIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImlubmVyVGV4dCIsImJsdXIiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWVi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LGNBQWMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwiLy8gVGhpcyBmaWxlIGhhcyBiZWVuIGdlbmVyYXRlZCBmcm9tIG11c3RhY2hlLm1qc1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5NdXN0YWNoZSA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAvKiFcbiAgICogbXVzdGFjaGUuanMgLSBMb2dpYy1sZXNzIHt7bXVzdGFjaGV9fSB0ZW1wbGF0ZXMgd2l0aCBKYXZhU2NyaXB0XG4gICAqIGh0dHA6Ly9naXRodWIuY29tL2phbmwvbXVzdGFjaGUuanNcbiAgICovXG5cbiAgdmFyIG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXlQb2x5ZmlsbCAob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdFRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICBmdW5jdGlvbiBpc0Z1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3JlIGNvcnJlY3QgdHlwZW9mIHN0cmluZyBoYW5kbGluZyBhcnJheVxuICAgKiB3aGljaCBub3JtYWxseSByZXR1cm5zIHR5cGVvZiAnb2JqZWN0J1xuICAgKi9cbiAgZnVuY3Rpb24gdHlwZVN0ciAob2JqKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkob2JqKSA/ICdhcnJheScgOiB0eXBlb2Ygb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwIChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXFxzXS9nLCAnXFxcXCQmJyk7XG4gIH1cblxuICAvKipcbiAgICogTnVsbCBzYWZlIHdheSBvZiBjaGVja2luZyB3aGV0aGVyIG9yIG5vdCBhbiBvYmplY3QsXG4gICAqIGluY2x1ZGluZyBpdHMgcHJvdG90eXBlLCBoYXMgYSBnaXZlbiBwcm9wZXJ0eVxuICAgKi9cbiAgZnVuY3Rpb24gaGFzUHJvcGVydHkgKG9iaiwgcHJvcE5hbWUpIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgKHByb3BOYW1lIGluIG9iaik7XG4gIH1cblxuICAvKipcbiAgICogU2FmZSB3YXkgb2YgZGV0ZWN0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiB0aGluZyBpcyBhIHByaW1pdGl2ZSBhbmRcbiAgICogd2hldGhlciBpdCBoYXMgdGhlIGdpdmVuIHByb3BlcnR5XG4gICAqL1xuICBmdW5jdGlvbiBwcmltaXRpdmVIYXNPd25Qcm9wZXJ0eSAocHJpbWl0aXZlLCBwcm9wTmFtZSkge1xuICAgIHJldHVybiAoXG4gICAgICBwcmltaXRpdmUgIT0gbnVsbFxuICAgICAgJiYgdHlwZW9mIHByaW1pdGl2ZSAhPT0gJ29iamVjdCdcbiAgICAgICYmIHByaW1pdGl2ZS5oYXNPd25Qcm9wZXJ0eVxuICAgICAgJiYgcHJpbWl0aXZlLmhhc093blByb3BlcnR5KHByb3BOYW1lKVxuICAgICk7XG4gIH1cblxuICAvLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0NPVUNIREItNTc3XG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFubC9tdXN0YWNoZS5qcy9pc3N1ZXMvMTg5XG4gIHZhciByZWdFeHBUZXN0ID0gUmVnRXhwLnByb3RvdHlwZS50ZXN0O1xuICBmdW5jdGlvbiB0ZXN0UmVnRXhwIChyZSwgc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlZ0V4cFRlc3QuY2FsbChyZSwgc3RyaW5nKTtcbiAgfVxuXG4gIHZhciBub25TcGFjZVJlID0gL1xcUy87XG4gIGZ1bmN0aW9uIGlzV2hpdGVzcGFjZSAoc3RyaW5nKSB7XG4gICAgcmV0dXJuICF0ZXN0UmVnRXhwKG5vblNwYWNlUmUsIHN0cmluZyk7XG4gIH1cblxuICB2YXIgZW50aXR5TWFwID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7JyxcbiAgICAnLyc6ICcmI3gyRjsnLFxuICAgICdgJzogJyYjeDYwOycsXG4gICAgJz0nOiAnJiN4M0Q7J1xuICB9O1xuXG4gIGZ1bmN0aW9uIGVzY2FwZUh0bWwgKHN0cmluZykge1xuICAgIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKC9bJjw+XCInYD1cXC9dL2csIGZ1bmN0aW9uIGZyb21FbnRpdHlNYXAgKHMpIHtcbiAgICAgIHJldHVybiBlbnRpdHlNYXBbc107XG4gICAgfSk7XG4gIH1cblxuICB2YXIgd2hpdGVSZSA9IC9cXHMqLztcbiAgdmFyIHNwYWNlUmUgPSAvXFxzKy87XG4gIHZhciBlcXVhbHNSZSA9IC9cXHMqPS87XG4gIHZhciBjdXJseVJlID0gL1xccypcXH0vO1xuICB2YXIgdGFnUmUgPSAvI3xcXF58XFwvfD58XFx7fCZ8PXwhLztcblxuICAvKipcbiAgICogQnJlYWtzIHVwIHRoZSBnaXZlbiBgdGVtcGxhdGVgIHN0cmluZyBpbnRvIGEgdHJlZSBvZiB0b2tlbnMuIElmIHRoZSBgdGFnc2BcbiAgICogYXJndW1lbnQgaXMgZ2l2ZW4gaGVyZSBpdCBtdXN0IGJlIGFuIGFycmF5IHdpdGggdHdvIHN0cmluZyB2YWx1ZXM6IHRoZVxuICAgKiBvcGVuaW5nIGFuZCBjbG9zaW5nIHRhZ3MgdXNlZCBpbiB0aGUgdGVtcGxhdGUgKGUuZy4gWyBcIjwlXCIsIFwiJT5cIiBdKS4gT2ZcbiAgICogY291cnNlLCB0aGUgZGVmYXVsdCBpcyB0byB1c2UgbXVzdGFjaGVzIChpLmUuIG11c3RhY2hlLnRhZ3MpLlxuICAgKlxuICAgKiBBIHRva2VuIGlzIGFuIGFycmF5IHdpdGggYXQgbGVhc3QgNCBlbGVtZW50cy4gVGhlIGZpcnN0IGVsZW1lbnQgaXMgdGhlXG4gICAqIG11c3RhY2hlIHN5bWJvbCB0aGF0IHdhcyB1c2VkIGluc2lkZSB0aGUgdGFnLCBlLmcuIFwiI1wiIG9yIFwiJlwiLiBJZiB0aGUgdGFnXG4gICAqIGRpZCBub3QgY29udGFpbiBhIHN5bWJvbCAoaS5lLiB7e215VmFsdWV9fSkgdGhpcyBlbGVtZW50IGlzIFwibmFtZVwiLiBGb3JcbiAgICogYWxsIHRleHQgdGhhdCBhcHBlYXJzIG91dHNpZGUgYSBzeW1ib2wgdGhpcyBlbGVtZW50IGlzIFwidGV4dFwiLlxuICAgKlxuICAgKiBUaGUgc2Vjb25kIGVsZW1lbnQgb2YgYSB0b2tlbiBpcyBpdHMgXCJ2YWx1ZVwiLiBGb3IgbXVzdGFjaGUgdGFncyB0aGlzIGlzXG4gICAqIHdoYXRldmVyIGVsc2Ugd2FzIGluc2lkZSB0aGUgdGFnIGJlc2lkZXMgdGhlIG9wZW5pbmcgc3ltYm9sLiBGb3IgdGV4dCB0b2tlbnNcbiAgICogdGhpcyBpcyB0aGUgdGV4dCBpdHNlbGYuXG4gICAqXG4gICAqIFRoZSB0aGlyZCBhbmQgZm91cnRoIGVsZW1lbnRzIG9mIHRoZSB0b2tlbiBhcmUgdGhlIHN0YXJ0IGFuZCBlbmQgaW5kaWNlcyxcbiAgICogcmVzcGVjdGl2ZWx5LCBvZiB0aGUgdG9rZW4gaW4gdGhlIG9yaWdpbmFsIHRlbXBsYXRlLlxuICAgKlxuICAgKiBUb2tlbnMgdGhhdCBhcmUgdGhlIHJvb3Qgbm9kZSBvZiBhIHN1YnRyZWUgY29udGFpbiB0d28gbW9yZSBlbGVtZW50czogMSkgYW5cbiAgICogYXJyYXkgb2YgdG9rZW5zIGluIHRoZSBzdWJ0cmVlIGFuZCAyKSB0aGUgaW5kZXggaW4gdGhlIG9yaWdpbmFsIHRlbXBsYXRlIGF0XG4gICAqIHdoaWNoIHRoZSBjbG9zaW5nIHRhZyBmb3IgdGhhdCBzZWN0aW9uIGJlZ2lucy5cbiAgICpcbiAgICogVG9rZW5zIGZvciBwYXJ0aWFscyBhbHNvIGNvbnRhaW4gdHdvIG1vcmUgZWxlbWVudHM6IDEpIGEgc3RyaW5nIHZhbHVlIG9mXG4gICAqIGluZGVuZGF0aW9uIHByaW9yIHRvIHRoYXQgdGFnIGFuZCAyKSB0aGUgaW5kZXggb2YgdGhhdCB0YWcgb24gdGhhdCBsaW5lIC1cbiAgICogZWcgYSB2YWx1ZSBvZiAyIGluZGljYXRlcyB0aGUgcGFydGlhbCBpcyB0aGUgdGhpcmQgdGFnIG9uIHRoaXMgbGluZS5cbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlVGVtcGxhdGUgKHRlbXBsYXRlLCB0YWdzKSB7XG4gICAgaWYgKCF0ZW1wbGF0ZSlcbiAgICAgIHJldHVybiBbXTtcbiAgICB2YXIgbGluZUhhc05vblNwYWNlID0gZmFsc2U7XG4gICAgdmFyIHNlY3Rpb25zID0gW107ICAgICAvLyBTdGFjayB0byBob2xkIHNlY3Rpb24gdG9rZW5zXG4gICAgdmFyIHRva2VucyA9IFtdOyAgICAgICAvLyBCdWZmZXIgdG8gaG9sZCB0aGUgdG9rZW5zXG4gICAgdmFyIHNwYWNlcyA9IFtdOyAgICAgICAvLyBJbmRpY2VzIG9mIHdoaXRlc3BhY2UgdG9rZW5zIG9uIHRoZSBjdXJyZW50IGxpbmVcbiAgICB2YXIgaGFzVGFnID0gZmFsc2U7ICAgIC8vIElzIHRoZXJlIGEge3t0YWd9fSBvbiB0aGUgY3VycmVudCBsaW5lP1xuICAgIHZhciBub25TcGFjZSA9IGZhbHNlOyAgLy8gSXMgdGhlcmUgYSBub24tc3BhY2UgY2hhciBvbiB0aGUgY3VycmVudCBsaW5lP1xuICAgIHZhciBpbmRlbnRhdGlvbiA9ICcnOyAgLy8gVHJhY2tzIGluZGVudGF0aW9uIGZvciB0YWdzIHRoYXQgdXNlIGl0XG4gICAgdmFyIHRhZ0luZGV4ID0gMDsgICAgICAvLyBTdG9yZXMgYSBjb3VudCBvZiBudW1iZXIgb2YgdGFncyBlbmNvdW50ZXJlZCBvbiBhIGxpbmVcblxuICAgIC8vIFN0cmlwcyBhbGwgd2hpdGVzcGFjZSB0b2tlbnMgYXJyYXkgZm9yIHRoZSBjdXJyZW50IGxpbmVcbiAgICAvLyBpZiB0aGVyZSB3YXMgYSB7eyN0YWd9fSBvbiBpdCBhbmQgb3RoZXJ3aXNlIG9ubHkgc3BhY2UuXG4gICAgZnVuY3Rpb24gc3RyaXBTcGFjZSAoKSB7XG4gICAgICBpZiAoaGFzVGFnICYmICFub25TcGFjZSkge1xuICAgICAgICB3aGlsZSAoc3BhY2VzLmxlbmd0aClcbiAgICAgICAgICBkZWxldGUgdG9rZW5zW3NwYWNlcy5wb3AoKV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGFjZXMgPSBbXTtcbiAgICAgIH1cblxuICAgICAgaGFzVGFnID0gZmFsc2U7XG4gICAgICBub25TcGFjZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBvcGVuaW5nVGFnUmUsIGNsb3NpbmdUYWdSZSwgY2xvc2luZ0N1cmx5UmU7XG4gICAgZnVuY3Rpb24gY29tcGlsZVRhZ3MgKHRhZ3NUb0NvbXBpbGUpIHtcbiAgICAgIGlmICh0eXBlb2YgdGFnc1RvQ29tcGlsZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHRhZ3NUb0NvbXBpbGUgPSB0YWdzVG9Db21waWxlLnNwbGl0KHNwYWNlUmUsIDIpO1xuXG4gICAgICBpZiAoIWlzQXJyYXkodGFnc1RvQ29tcGlsZSkgfHwgdGFnc1RvQ29tcGlsZS5sZW5ndGggIT09IDIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YWdzOiAnICsgdGFnc1RvQ29tcGlsZSk7XG5cbiAgICAgIG9wZW5pbmdUYWdSZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKHRhZ3NUb0NvbXBpbGVbMF0pICsgJ1xcXFxzKicpO1xuICAgICAgY2xvc2luZ1RhZ1JlID0gbmV3IFJlZ0V4cCgnXFxcXHMqJyArIGVzY2FwZVJlZ0V4cCh0YWdzVG9Db21waWxlWzFdKSk7XG4gICAgICBjbG9zaW5nQ3VybHlSZSA9IG5ldyBSZWdFeHAoJ1xcXFxzKicgKyBlc2NhcGVSZWdFeHAoJ30nICsgdGFnc1RvQ29tcGlsZVsxXSkpO1xuICAgIH1cblxuICAgIGNvbXBpbGVUYWdzKHRhZ3MgfHwgbXVzdGFjaGUudGFncyk7XG5cbiAgICB2YXIgc2Nhbm5lciA9IG5ldyBTY2FubmVyKHRlbXBsYXRlKTtcblxuICAgIHZhciBzdGFydCwgdHlwZSwgdmFsdWUsIGNociwgdG9rZW4sIG9wZW5TZWN0aW9uO1xuICAgIHdoaWxlICghc2Nhbm5lci5lb3MoKSkge1xuICAgICAgc3RhcnQgPSBzY2FubmVyLnBvcztcblxuICAgICAgLy8gTWF0Y2ggYW55IHRleHQgYmV0d2VlbiB0YWdzLlxuICAgICAgdmFsdWUgPSBzY2FubmVyLnNjYW5VbnRpbChvcGVuaW5nVGFnUmUpO1xuXG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgdmFsdWVMZW5ndGg7ICsraSkge1xuICAgICAgICAgIGNociA9IHZhbHVlLmNoYXJBdChpKTtcblxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoY2hyKSkge1xuICAgICAgICAgICAgc3BhY2VzLnB1c2godG9rZW5zLmxlbmd0aCk7XG4gICAgICAgICAgICBpbmRlbnRhdGlvbiArPSBjaHI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vblNwYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgIGxpbmVIYXNOb25TcGFjZSA9IHRydWU7XG4gICAgICAgICAgICBpbmRlbnRhdGlvbiArPSAnICc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdG9rZW5zLnB1c2goWyAndGV4dCcsIGNociwgc3RhcnQsIHN0YXJ0ICsgMSBdKTtcbiAgICAgICAgICBzdGFydCArPSAxO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHdoaXRlc3BhY2Ugb24gdGhlIGN1cnJlbnQgbGluZS5cbiAgICAgICAgICBpZiAoY2hyID09PSAnXFxuJykge1xuICAgICAgICAgICAgc3RyaXBTcGFjZSgpO1xuICAgICAgICAgICAgaW5kZW50YXRpb24gPSAnJztcbiAgICAgICAgICAgIHRhZ0luZGV4ID0gMDtcbiAgICAgICAgICAgIGxpbmVIYXNOb25TcGFjZSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBNYXRjaCB0aGUgb3BlbmluZyB0YWcuXG4gICAgICBpZiAoIXNjYW5uZXIuc2NhbihvcGVuaW5nVGFnUmUpKVxuICAgICAgICBicmVhaztcblxuICAgICAgaGFzVGFnID0gdHJ1ZTtcblxuICAgICAgLy8gR2V0IHRoZSB0YWcgdHlwZS5cbiAgICAgIHR5cGUgPSBzY2FubmVyLnNjYW4odGFnUmUpIHx8ICduYW1lJztcbiAgICAgIHNjYW5uZXIuc2Nhbih3aGl0ZVJlKTtcblxuICAgICAgLy8gR2V0IHRoZSB0YWcgdmFsdWUuXG4gICAgICBpZiAodHlwZSA9PT0gJz0nKSB7XG4gICAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwoZXF1YWxzUmUpO1xuICAgICAgICBzY2FubmVyLnNjYW4oZXF1YWxzUmUpO1xuICAgICAgICBzY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nVGFnUmUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAneycpIHtcbiAgICAgICAgdmFsdWUgPSBzY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nQ3VybHlSZSk7XG4gICAgICAgIHNjYW5uZXIuc2NhbihjdXJseVJlKTtcbiAgICAgICAgc2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ1RhZ1JlKTtcbiAgICAgICAgdHlwZSA9ICcmJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ1RhZ1JlKTtcbiAgICAgIH1cblxuICAgICAgLy8gTWF0Y2ggdGhlIGNsb3NpbmcgdGFnLlxuICAgICAgaWYgKCFzY2FubmVyLnNjYW4oY2xvc2luZ1RhZ1JlKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmNsb3NlZCB0YWcgYXQgJyArIHNjYW5uZXIucG9zKTtcblxuICAgICAgaWYgKHR5cGUgPT0gJz4nKSB7XG4gICAgICAgIHRva2VuID0gWyB0eXBlLCB2YWx1ZSwgc3RhcnQsIHNjYW5uZXIucG9zLCBpbmRlbnRhdGlvbiwgdGFnSW5kZXgsIGxpbmVIYXNOb25TcGFjZSBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9rZW4gPSBbIHR5cGUsIHZhbHVlLCBzdGFydCwgc2Nhbm5lci5wb3MgXTtcbiAgICAgIH1cbiAgICAgIHRhZ0luZGV4Kys7XG4gICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG5cbiAgICAgIGlmICh0eXBlID09PSAnIycgfHwgdHlwZSA9PT0gJ14nKSB7XG4gICAgICAgIHNlY3Rpb25zLnB1c2godG9rZW4pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnLycpIHtcbiAgICAgICAgLy8gQ2hlY2sgc2VjdGlvbiBuZXN0aW5nLlxuICAgICAgICBvcGVuU2VjdGlvbiA9IHNlY3Rpb25zLnBvcCgpO1xuXG4gICAgICAgIGlmICghb3BlblNlY3Rpb24pXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbm9wZW5lZCBzZWN0aW9uIFwiJyArIHZhbHVlICsgJ1wiIGF0ICcgKyBzdGFydCk7XG5cbiAgICAgICAgaWYgKG9wZW5TZWN0aW9uWzFdICE9PSB2YWx1ZSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuY2xvc2VkIHNlY3Rpb24gXCInICsgb3BlblNlY3Rpb25bMV0gKyAnXCIgYXQgJyArIHN0YXJ0KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ25hbWUnIHx8IHR5cGUgPT09ICd7JyB8fCB0eXBlID09PSAnJicpIHtcbiAgICAgICAgbm9uU3BhY2UgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnPScpIHtcbiAgICAgICAgLy8gU2V0IHRoZSB0YWdzIGZvciB0aGUgbmV4dCB0aW1lIGFyb3VuZC5cbiAgICAgICAgY29tcGlsZVRhZ3ModmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0cmlwU3BhY2UoKTtcblxuICAgIC8vIE1ha2Ugc3VyZSB0aGVyZSBhcmUgbm8gb3BlbiBzZWN0aW9ucyB3aGVuIHdlJ3JlIGRvbmUuXG4gICAgb3BlblNlY3Rpb24gPSBzZWN0aW9ucy5wb3AoKTtcblxuICAgIGlmIChvcGVuU2VjdGlvbilcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiBcIicgKyBvcGVuU2VjdGlvblsxXSArICdcIiBhdCAnICsgc2Nhbm5lci5wb3MpO1xuXG4gICAgcmV0dXJuIG5lc3RUb2tlbnMoc3F1YXNoVG9rZW5zKHRva2VucykpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbWJpbmVzIHRoZSB2YWx1ZXMgb2YgY29uc2VjdXRpdmUgdGV4dCB0b2tlbnMgaW4gdGhlIGdpdmVuIGB0b2tlbnNgIGFycmF5XG4gICAqIHRvIGEgc2luZ2xlIHRva2VuLlxuICAgKi9cbiAgZnVuY3Rpb24gc3F1YXNoVG9rZW5zICh0b2tlbnMpIHtcbiAgICB2YXIgc3F1YXNoZWRUb2tlbnMgPSBbXTtcblxuICAgIHZhciB0b2tlbiwgbGFzdFRva2VuO1xuICAgIGZvciAodmFyIGkgPSAwLCBudW1Ub2tlbnMgPSB0b2tlbnMubGVuZ3RoOyBpIDwgbnVtVG9rZW5zOyArK2kpIHtcbiAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuWzBdID09PSAndGV4dCcgJiYgbGFzdFRva2VuICYmIGxhc3RUb2tlblswXSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgbGFzdFRva2VuWzFdICs9IHRva2VuWzFdO1xuICAgICAgICAgIGxhc3RUb2tlblszXSA9IHRva2VuWzNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNxdWFzaGVkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGxhc3RUb2tlbiA9IHRva2VuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNxdWFzaGVkVG9rZW5zO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1zIHRoZSBnaXZlbiBhcnJheSBvZiBgdG9rZW5zYCBpbnRvIGEgbmVzdGVkIHRyZWUgc3RydWN0dXJlIHdoZXJlXG4gICAqIHRva2VucyB0aGF0IHJlcHJlc2VudCBhIHNlY3Rpb24gaGF2ZSB0d28gYWRkaXRpb25hbCBpdGVtczogMSkgYW4gYXJyYXkgb2ZcbiAgICogYWxsIHRva2VucyB0aGF0IGFwcGVhciBpbiB0aGF0IHNlY3Rpb24gYW5kIDIpIHRoZSBpbmRleCBpbiB0aGUgb3JpZ2luYWxcbiAgICogdGVtcGxhdGUgdGhhdCByZXByZXNlbnRzIHRoZSBlbmQgb2YgdGhhdCBzZWN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gbmVzdFRva2VucyAodG9rZW5zKSB7XG4gICAgdmFyIG5lc3RlZFRva2VucyA9IFtdO1xuICAgIHZhciBjb2xsZWN0b3IgPSBuZXN0ZWRUb2tlbnM7XG4gICAgdmFyIHNlY3Rpb25zID0gW107XG5cbiAgICB2YXIgdG9rZW4sIHNlY3Rpb247XG4gICAgZm9yICh2YXIgaSA9IDAsIG51bVRva2VucyA9IHRva2Vucy5sZW5ndGg7IGkgPCBudW1Ub2tlbnM7ICsraSkge1xuICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgIHN3aXRjaCAodG9rZW5bMF0pIHtcbiAgICAgICAgY2FzZSAnIyc6XG4gICAgICAgIGNhc2UgJ14nOlxuICAgICAgICAgIGNvbGxlY3Rvci5wdXNoKHRva2VuKTtcbiAgICAgICAgICBzZWN0aW9ucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb2xsZWN0b3IgPSB0b2tlbls0XSA9IFtdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcvJzpcbiAgICAgICAgICBzZWN0aW9uID0gc2VjdGlvbnMucG9wKCk7XG4gICAgICAgICAgc2VjdGlvbls1XSA9IHRva2VuWzJdO1xuICAgICAgICAgIGNvbGxlY3RvciA9IHNlY3Rpb25zLmxlbmd0aCA+IDAgPyBzZWN0aW9uc1tzZWN0aW9ucy5sZW5ndGggLSAxXVs0XSA6IG5lc3RlZFRva2VucztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb2xsZWN0b3IucHVzaCh0b2tlbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5lc3RlZFRva2VucztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNpbXBsZSBzdHJpbmcgc2Nhbm5lciB0aGF0IGlzIHVzZWQgYnkgdGhlIHRlbXBsYXRlIHBhcnNlciB0byBmaW5kXG4gICAqIHRva2VucyBpbiB0ZW1wbGF0ZSBzdHJpbmdzLlxuICAgKi9cbiAgZnVuY3Rpb24gU2Nhbm5lciAoc3RyaW5nKSB7XG4gICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG4gICAgdGhpcy50YWlsID0gc3RyaW5nO1xuICAgIHRoaXMucG9zID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFpbCBpcyBlbXB0eSAoZW5kIG9mIHN0cmluZykuXG4gICAqL1xuICBTY2FubmVyLnByb3RvdHlwZS5lb3MgPSBmdW5jdGlvbiBlb3MgKCkge1xuICAgIHJldHVybiB0aGlzLnRhaWwgPT09ICcnO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUcmllcyB0byBtYXRjaCB0aGUgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uIGF0IHRoZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgKiBSZXR1cm5zIHRoZSBtYXRjaGVkIHRleHQgaWYgaXQgY2FuIG1hdGNoLCB0aGUgZW1wdHkgc3RyaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIFNjYW5uZXIucHJvdG90eXBlLnNjYW4gPSBmdW5jdGlvbiBzY2FuIChyZSkge1xuICAgIHZhciBtYXRjaCA9IHRoaXMudGFpbC5tYXRjaChyZSk7XG5cbiAgICBpZiAoIW1hdGNoIHx8IG1hdGNoLmluZGV4ICE9PSAwKVxuICAgICAgcmV0dXJuICcnO1xuXG4gICAgdmFyIHN0cmluZyA9IG1hdGNoWzBdO1xuXG4gICAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZyhzdHJpbmcubGVuZ3RoKTtcbiAgICB0aGlzLnBvcyArPSBzdHJpbmcubGVuZ3RoO1xuXG4gICAgcmV0dXJuIHN0cmluZztcbiAgfTtcblxuICAvKipcbiAgICogU2tpcHMgYWxsIHRleHQgdW50aWwgdGhlIGdpdmVuIHJlZ3VsYXIgZXhwcmVzc2lvbiBjYW4gYmUgbWF0Y2hlZC4gUmV0dXJuc1xuICAgKiB0aGUgc2tpcHBlZCBzdHJpbmcsIHdoaWNoIGlzIHRoZSBlbnRpcmUgdGFpbCBpZiBubyBtYXRjaCBjYW4gYmUgbWFkZS5cbiAgICovXG4gIFNjYW5uZXIucHJvdG90eXBlLnNjYW5VbnRpbCA9IGZ1bmN0aW9uIHNjYW5VbnRpbCAocmUpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLnRhaWwuc2VhcmNoKHJlKSwgbWF0Y2g7XG5cbiAgICBzd2l0Y2ggKGluZGV4KSB7XG4gICAgICBjYXNlIC0xOlxuICAgICAgICBtYXRjaCA9IHRoaXMudGFpbDtcbiAgICAgICAgdGhpcy50YWlsID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAwOlxuICAgICAgICBtYXRjaCA9ICcnO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG1hdGNoID0gdGhpcy50YWlsLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICAgIHRoaXMudGFpbCA9IHRoaXMudGFpbC5zdWJzdHJpbmcoaW5kZXgpO1xuICAgIH1cblxuICAgIHRoaXMucG9zICs9IG1hdGNoLmxlbmd0aDtcblxuICAgIHJldHVybiBtYXRjaDtcbiAgfTtcblxuICAvKipcbiAgICogUmVwcmVzZW50cyBhIHJlbmRlcmluZyBjb250ZXh0IGJ5IHdyYXBwaW5nIGEgdmlldyBvYmplY3QgYW5kXG4gICAqIG1haW50YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgY29udGV4dC5cbiAgICovXG4gIGZ1bmN0aW9uIENvbnRleHQgKHZpZXcsIHBhcmVudENvbnRleHQpIHtcbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgIHRoaXMuY2FjaGUgPSB7ICcuJzogdGhpcy52aWV3IH07XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRDb250ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgY29udGV4dCB1c2luZyB0aGUgZ2l2ZW4gdmlldyB3aXRoIHRoaXMgY29udGV4dFxuICAgKiBhcyB0aGUgcGFyZW50LlxuICAgKi9cbiAgQ29udGV4dC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2ggKHZpZXcpIHtcbiAgICByZXR1cm4gbmV3IENvbnRleHQodmlldywgdGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBuYW1lIGluIHRoaXMgY29udGV4dCwgdHJhdmVyc2luZ1xuICAgKiB1cCB0aGUgY29udGV4dCBoaWVyYXJjaHkgaWYgdGhlIHZhbHVlIGlzIGFic2VudCBpbiB0aGlzIGNvbnRleHQncyB2aWV3LlxuICAgKi9cbiAgQ29udGV4dC5wcm90b3R5cGUubG9va3VwID0gZnVuY3Rpb24gbG9va3VwIChuYW1lKSB7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5jYWNoZTtcblxuICAgIHZhciB2YWx1ZTtcbiAgICBpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHZhbHVlID0gY2FjaGVbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcywgaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzLCBpbmRleCwgbG9va3VwSGl0ID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChjb250ZXh0KSB7XG4gICAgICAgIGlmIChuYW1lLmluZGV4T2YoJy4nKSA+IDApIHtcbiAgICAgICAgICBpbnRlcm1lZGlhdGVWYWx1ZSA9IGNvbnRleHQudmlldztcbiAgICAgICAgICBuYW1lcyA9IG5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgICBpbmRleCA9IDA7XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBVc2luZyB0aGUgZG90IG5vdGlvbiBwYXRoIGluIGBuYW1lYCwgd2UgZGVzY2VuZCB0aHJvdWdoIHRoZVxuICAgICAgICAgICAqIG5lc3RlZCBvYmplY3RzLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogVG8gYmUgY2VydGFpbiB0aGF0IHRoZSBsb29rdXAgaGFzIGJlZW4gc3VjY2Vzc2Z1bCwgd2UgaGF2ZSB0b1xuICAgICAgICAgICAqIGNoZWNrIGlmIHRoZSBsYXN0IG9iamVjdCBpbiB0aGUgcGF0aCBhY3R1YWxseSBoYXMgdGhlIHByb3BlcnR5XG4gICAgICAgICAgICogd2UgYXJlIGxvb2tpbmcgZm9yLiBXZSBzdG9yZSB0aGUgcmVzdWx0IGluIGBsb29rdXBIaXRgLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogVGhpcyBpcyBzcGVjaWFsbHkgbmVjZXNzYXJ5IGZvciB3aGVuIHRoZSB2YWx1ZSBoYXMgYmVlbiBzZXQgdG9cbiAgICAgICAgICAgKiBgdW5kZWZpbmVkYCBhbmQgd2Ugd2FudCB0byBhdm9pZCBsb29raW5nIHVwIHBhcmVudCBjb250ZXh0cy5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEluIHRoZSBjYXNlIHdoZXJlIGRvdCBub3RhdGlvbiBpcyB1c2VkLCB3ZSBjb25zaWRlciB0aGUgbG9va3VwXG4gICAgICAgICAgICogdG8gYmUgc3VjY2Vzc2Z1bCBldmVuIGlmIHRoZSBsYXN0IFwib2JqZWN0XCIgaW4gdGhlIHBhdGggaXNcbiAgICAgICAgICAgKiBub3QgYWN0dWFsbHkgYW4gb2JqZWN0IGJ1dCBhIHByaW1pdGl2ZSAoZS5nLiwgYSBzdHJpbmcsIG9yIGFuXG4gICAgICAgICAgICogaW50ZWdlciksIGJlY2F1c2UgaXQgaXMgc29tZXRpbWVzIHVzZWZ1bCB0byBhY2Nlc3MgYSBwcm9wZXJ0eVxuICAgICAgICAgICAqIG9mIGFuIGF1dG9ib3hlZCBwcmltaXRpdmUsIHN1Y2ggYXMgdGhlIGxlbmd0aCBvZiBhIHN0cmluZy5cbiAgICAgICAgICAgKiovXG4gICAgICAgICAgd2hpbGUgKGludGVybWVkaWF0ZVZhbHVlICE9IG51bGwgJiYgaW5kZXggPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gbmFtZXMubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgbG9va3VwSGl0ID0gKFxuICAgICAgICAgICAgICAgIGhhc1Byb3BlcnR5KGludGVybWVkaWF0ZVZhbHVlLCBuYW1lc1tpbmRleF0pXG4gICAgICAgICAgICAgICAgfHwgcHJpbWl0aXZlSGFzT3duUHJvcGVydHkoaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzW2luZGV4XSlcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaW50ZXJtZWRpYXRlVmFsdWUgPSBpbnRlcm1lZGlhdGVWYWx1ZVtuYW1lc1tpbmRleCsrXV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGludGVybWVkaWF0ZVZhbHVlID0gY29udGV4dC52aWV3W25hbWVdO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogT25seSBjaGVja2luZyBhZ2FpbnN0IGBoYXNQcm9wZXJ0eWAsIHdoaWNoIGFsd2F5cyByZXR1cm5zIGBmYWxzZWAgaWZcbiAgICAgICAgICAgKiBgY29udGV4dC52aWV3YCBpcyBub3QgYW4gb2JqZWN0LiBEZWxpYmVyYXRlbHkgb21pdHRpbmcgdGhlIGNoZWNrXG4gICAgICAgICAgICogYWdhaW5zdCBgcHJpbWl0aXZlSGFzT3duUHJvcGVydHlgIGlmIGRvdCBub3RhdGlvbiBpcyBub3QgdXNlZC5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIENvbnNpZGVyIHRoaXMgZXhhbXBsZTpcbiAgICAgICAgICAgKiBgYGBcbiAgICAgICAgICAgKiBNdXN0YWNoZS5yZW5kZXIoXCJUaGUgbGVuZ3RoIG9mIGEgZm9vdGJhbGwgZmllbGQgaXMge3sjbGVuZ3RofX17e2xlbmd0aH19e3svbGVuZ3RofX0uXCIsIHtsZW5ndGg6IFwiMTAwIHlhcmRzXCJ9KVxuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogSWYgd2Ugd2VyZSB0byBjaGVjayBhbHNvIGFnYWluc3QgYHByaW1pdGl2ZUhhc093blByb3BlcnR5YCwgYXMgd2UgZG9cbiAgICAgICAgICAgKiBpbiB0aGUgZG90IG5vdGF0aW9uIGNhc2UsIHRoZW4gcmVuZGVyIGNhbGwgd291bGQgcmV0dXJuOlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogXCJUaGUgbGVuZ3RoIG9mIGEgZm9vdGJhbGwgZmllbGQgaXMgOS5cIlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogcmF0aGVyIHRoYW4gdGhlIGV4cGVjdGVkOlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogXCJUaGUgbGVuZ3RoIG9mIGEgZm9vdGJhbGwgZmllbGQgaXMgMTAwIHlhcmRzLlwiXG4gICAgICAgICAgICoqL1xuICAgICAgICAgIGxvb2t1cEhpdCA9IGhhc1Byb3BlcnR5KGNvbnRleHQudmlldywgbmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG9va3VwSGl0KSB7XG4gICAgICAgICAgdmFsdWUgPSBpbnRlcm1lZGlhdGVWYWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnBhcmVudDtcbiAgICAgIH1cblxuICAgICAgY2FjaGVbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpXG4gICAgICB2YWx1ZSA9IHZhbHVlLmNhbGwodGhpcy52aWV3KTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvKipcbiAgICogQSBXcml0ZXIga25vd3MgaG93IHRvIHRha2UgYSBzdHJlYW0gb2YgdG9rZW5zIGFuZCByZW5kZXIgdGhlbSB0byBhXG4gICAqIHN0cmluZywgZ2l2ZW4gYSBjb250ZXh0LiBJdCBhbHNvIG1haW50YWlucyBhIGNhY2hlIG9mIHRlbXBsYXRlcyB0b1xuICAgKiBhdm9pZCB0aGUgbmVlZCB0byBwYXJzZSB0aGUgc2FtZSB0ZW1wbGF0ZSB0d2ljZS5cbiAgICovXG4gIGZ1bmN0aW9uIFdyaXRlciAoKSB7XG4gICAgdGhpcy50ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgX2NhY2hlOiB7fSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0IChrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlW2tleV0gPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZVtrZXldO1xuICAgICAgfSxcbiAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgYWxsIGNhY2hlZCB0ZW1wbGF0ZXMgaW4gdGhpcyB3cml0ZXIuXG4gICAqL1xuICBXcml0ZXIucHJvdG90eXBlLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiBjbGVhckNhY2hlICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMudGVtcGxhdGVDYWNoZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMudGVtcGxhdGVDYWNoZS5jbGVhcigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUGFyc2VzIGFuZCBjYWNoZXMgdGhlIGdpdmVuIGB0ZW1wbGF0ZWAgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBgdGFnc2Agb3JcbiAgICogYG11c3RhY2hlLnRhZ3NgIGlmIGB0YWdzYCBpcyBvbWl0dGVkLCAgYW5kIHJldHVybnMgdGhlIGFycmF5IG9mIHRva2Vuc1xuICAgKiB0aGF0IGlzIGdlbmVyYXRlZCBmcm9tIHRoZSBwYXJzZS5cbiAgICovXG4gIFdyaXRlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSAodGVtcGxhdGUsIHRhZ3MpIHtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLnRlbXBsYXRlQ2FjaGU7XG4gICAgdmFyIGNhY2hlS2V5ID0gdGVtcGxhdGUgKyAnOicgKyAodGFncyB8fCBtdXN0YWNoZS50YWdzKS5qb2luKCc6Jyk7XG4gICAgdmFyIGlzQ2FjaGVFbmFibGVkID0gdHlwZW9mIGNhY2hlICE9PSAndW5kZWZpbmVkJztcbiAgICB2YXIgdG9rZW5zID0gaXNDYWNoZUVuYWJsZWQgPyBjYWNoZS5nZXQoY2FjaGVLZXkpIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKHRva2VucyA9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRva2VucyA9IHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsIHRhZ3MpO1xuICAgICAgaXNDYWNoZUVuYWJsZWQgJiYgY2FjaGUuc2V0KGNhY2hlS2V5LCB0b2tlbnMpO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW5zO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIaWdoLWxldmVsIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gcmVuZGVyIHRoZSBnaXZlbiBgdGVtcGxhdGVgIHdpdGhcbiAgICogdGhlIGdpdmVuIGB2aWV3YC5cbiAgICpcbiAgICogVGhlIG9wdGlvbmFsIGBwYXJ0aWFsc2AgYXJndW1lbnQgbWF5IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZVxuICAgKiBuYW1lcyBhbmQgdGVtcGxhdGVzIG9mIHBhcnRpYWxzIHRoYXQgYXJlIHVzZWQgaW4gdGhlIHRlbXBsYXRlLiBJdCBtYXlcbiAgICogYWxzbyBiZSBhIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBsb2FkIHBhcnRpYWwgdGVtcGxhdGVzIG9uIHRoZSBmbHlcbiAgICogdGhhdCB0YWtlcyBhIHNpbmdsZSBhcmd1bWVudDogdGhlIG5hbWUgb2YgdGhlIHBhcnRpYWwuXG4gICAqXG4gICAqIElmIHRoZSBvcHRpb25hbCBgdGFnc2AgYXJndW1lbnQgaXMgZ2l2ZW4gaGVyZSBpdCBtdXN0IGJlIGFuIGFycmF5IHdpdGggdHdvXG4gICAqIHN0cmluZyB2YWx1ZXM6IHRoZSBvcGVuaW5nIGFuZCBjbG9zaW5nIHRhZ3MgdXNlZCBpbiB0aGUgdGVtcGxhdGUgKGUuZy5cbiAgICogWyBcIjwlXCIsIFwiJT5cIiBdKS4gVGhlIGRlZmF1bHQgaXMgdG8gbXVzdGFjaGUudGFncy5cbiAgICovXG4gIFdyaXRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyICh0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMsIHRhZ3MpIHtcbiAgICB2YXIgdG9rZW5zID0gdGhpcy5wYXJzZSh0ZW1wbGF0ZSwgdGFncyk7XG4gICAgdmFyIGNvbnRleHQgPSAodmlldyBpbnN0YW5jZW9mIENvbnRleHQpID8gdmlldyA6IG5ldyBDb250ZXh0KHZpZXcsIHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRva2VucywgY29udGV4dCwgcGFydGlhbHMsIHRlbXBsYXRlLCB0YWdzKTtcbiAgfTtcblxuICAvKipcbiAgICogTG93LWxldmVsIG1ldGhvZCB0aGF0IHJlbmRlcnMgdGhlIGdpdmVuIGFycmF5IG9mIGB0b2tlbnNgIHVzaW5nXG4gICAqIHRoZSBnaXZlbiBgY29udGV4dGAgYW5kIGBwYXJ0aWFsc2AuXG4gICAqXG4gICAqIE5vdGU6IFRoZSBgb3JpZ2luYWxUZW1wbGF0ZWAgaXMgb25seSBldmVyIHVzZWQgdG8gZXh0cmFjdCB0aGUgcG9ydGlvblxuICAgKiBvZiB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgdGhhdCB3YXMgY29udGFpbmVkIGluIGEgaGlnaGVyLW9yZGVyIHNlY3Rpb24uXG4gICAqIElmIHRoZSB0ZW1wbGF0ZSBkb2Vzbid0IHVzZSBoaWdoZXItb3JkZXIgc2VjdGlvbnMsIHRoaXMgYXJndW1lbnQgbWF5XG4gICAqIGJlIG9taXR0ZWQuXG4gICAqL1xuICBXcml0ZXIucHJvdG90eXBlLnJlbmRlclRva2VucyA9IGZ1bmN0aW9uIHJlbmRlclRva2VucyAodG9rZW5zLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSwgdGFncykge1xuICAgIHZhciBidWZmZXIgPSAnJztcblxuICAgIHZhciB0b2tlbiwgc3ltYm9sLCB2YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMCwgbnVtVG9rZW5zID0gdG9rZW5zLmxlbmd0aDsgaSA8IG51bVRva2VuczsgKytpKSB7XG4gICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgc3ltYm9sID0gdG9rZW5bMF07XG5cbiAgICAgIGlmIChzeW1ib2wgPT09ICcjJykgdmFsdWUgPSB0aGlzLnJlbmRlclNlY3Rpb24odG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlKTtcbiAgICAgIGVsc2UgaWYgKHN5bWJvbCA9PT0gJ14nKSB2YWx1ZSA9IHRoaXMucmVuZGVySW52ZXJ0ZWQodG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlKTtcbiAgICAgIGVsc2UgaWYgKHN5bWJvbCA9PT0gJz4nKSB2YWx1ZSA9IHRoaXMucmVuZGVyUGFydGlhbCh0b2tlbiwgY29udGV4dCwgcGFydGlhbHMsIHRhZ3MpO1xuICAgICAgZWxzZSBpZiAoc3ltYm9sID09PSAnJicpIHZhbHVlID0gdGhpcy51bmVzY2FwZWRWYWx1ZSh0b2tlbiwgY29udGV4dCk7XG4gICAgICBlbHNlIGlmIChzeW1ib2wgPT09ICduYW1lJykgdmFsdWUgPSB0aGlzLmVzY2FwZWRWYWx1ZSh0b2tlbiwgY29udGV4dCk7XG4gICAgICBlbHNlIGlmIChzeW1ib2wgPT09ICd0ZXh0JykgdmFsdWUgPSB0aGlzLnJhd1ZhbHVlKHRva2VuKTtcblxuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgIGJ1ZmZlciArPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmZmVyO1xuICB9O1xuXG4gIFdyaXRlci5wcm90b3R5cGUucmVuZGVyU2VjdGlvbiA9IGZ1bmN0aW9uIHJlbmRlclNlY3Rpb24gKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYnVmZmVyID0gJyc7XG4gICAgdmFyIHZhbHVlID0gY29udGV4dC5sb29rdXAodG9rZW5bMV0pO1xuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlbmRlciBhbiBhcmJpdHJhcnkgdGVtcGxhdGVcbiAgICAvLyBpbiB0aGUgY3VycmVudCBjb250ZXh0IGJ5IGhpZ2hlci1vcmRlciBzZWN0aW9ucy5cbiAgICBmdW5jdGlvbiBzdWJSZW5kZXIgKHRlbXBsYXRlKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW5kZXIodGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzKTtcbiAgICB9XG5cbiAgICBpZiAoIXZhbHVlKSByZXR1cm47XG5cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAodmFyIGogPSAwLCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaiA8IHZhbHVlTGVuZ3RoOyArK2opIHtcbiAgICAgICAgYnVmZmVyICs9IHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LnB1c2godmFsdWVbal0pLCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgYnVmZmVyICs9IHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LnB1c2godmFsdWUpLCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSk7XG4gICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbFRlbXBsYXRlICE9PSAnc3RyaW5nJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXNlIGhpZ2hlci1vcmRlciBzZWN0aW9ucyB3aXRob3V0IHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZScpO1xuXG4gICAgICAvLyBFeHRyYWN0IHRoZSBwb3J0aW9uIG9mIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0aGF0IHRoZSBzZWN0aW9uIGNvbnRhaW5zLlxuICAgICAgdmFsdWUgPSB2YWx1ZS5jYWxsKGNvbnRleHQudmlldywgb3JpZ2luYWxUZW1wbGF0ZS5zbGljZSh0b2tlblszXSwgdG9rZW5bNV0pLCBzdWJSZW5kZXIpO1xuXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbClcbiAgICAgICAgYnVmZmVyICs9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWZmZXIgKz0gdGhpcy5yZW5kZXJUb2tlbnModG9rZW5bNF0sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbiAgfTtcblxuICBXcml0ZXIucHJvdG90eXBlLnJlbmRlckludmVydGVkID0gZnVuY3Rpb24gcmVuZGVySW52ZXJ0ZWQgKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSkge1xuICAgIHZhciB2YWx1ZSA9IGNvbnRleHQubG9va3VwKHRva2VuWzFdKTtcblxuICAgIC8vIFVzZSBKYXZhU2NyaXB0J3MgZGVmaW5pdGlvbiBvZiBmYWxzeS4gSW5jbHVkZSBlbXB0eSBhcnJheXMuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW5sL211c3RhY2hlLmpzL2lzc3Vlcy8xODZcbiAgICBpZiAoIXZhbHVlIHx8IChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApKVxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSk7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS5pbmRlbnRQYXJ0aWFsID0gZnVuY3Rpb24gaW5kZW50UGFydGlhbCAocGFydGlhbCwgaW5kZW50YXRpb24sIGxpbmVIYXNOb25TcGFjZSkge1xuICAgIHZhciBmaWx0ZXJlZEluZGVudGF0aW9uID0gaW5kZW50YXRpb24ucmVwbGFjZSgvW14gXFx0XS9nLCAnJyk7XG4gICAgdmFyIHBhcnRpYWxCeU5sID0gcGFydGlhbC5zcGxpdCgnXFxuJyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0aWFsQnlObC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHBhcnRpYWxCeU5sW2ldLmxlbmd0aCAmJiAoaSA+IDAgfHwgIWxpbmVIYXNOb25TcGFjZSkpIHtcbiAgICAgICAgcGFydGlhbEJ5TmxbaV0gPSBmaWx0ZXJlZEluZGVudGF0aW9uICsgcGFydGlhbEJ5TmxbaV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJ0aWFsQnlObC5qb2luKCdcXG4nKTtcbiAgfTtcblxuICBXcml0ZXIucHJvdG90eXBlLnJlbmRlclBhcnRpYWwgPSBmdW5jdGlvbiByZW5kZXJQYXJ0aWFsICh0b2tlbiwgY29udGV4dCwgcGFydGlhbHMsIHRhZ3MpIHtcbiAgICBpZiAoIXBhcnRpYWxzKSByZXR1cm47XG5cbiAgICB2YXIgdmFsdWUgPSBpc0Z1bmN0aW9uKHBhcnRpYWxzKSA/IHBhcnRpYWxzKHRva2VuWzFdKSA6IHBhcnRpYWxzW3Rva2VuWzFdXTtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgdmFyIGxpbmVIYXNOb25TcGFjZSA9IHRva2VuWzZdO1xuICAgICAgdmFyIHRhZ0luZGV4ID0gdG9rZW5bNV07XG4gICAgICB2YXIgaW5kZW50YXRpb24gPSB0b2tlbls0XTtcbiAgICAgIHZhciBpbmRlbnRlZFZhbHVlID0gdmFsdWU7XG4gICAgICBpZiAodGFnSW5kZXggPT0gMCAmJiBpbmRlbnRhdGlvbikge1xuICAgICAgICBpbmRlbnRlZFZhbHVlID0gdGhpcy5pbmRlbnRQYXJ0aWFsKHZhbHVlLCBpbmRlbnRhdGlvbiwgbGluZUhhc05vblNwYWNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlclRva2Vucyh0aGlzLnBhcnNlKGluZGVudGVkVmFsdWUsIHRhZ3MpLCBjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50ZWRWYWx1ZSwgdGFncyk7XG4gICAgfVxuICB9O1xuXG4gIFdyaXRlci5wcm90b3R5cGUudW5lc2NhcGVkVmFsdWUgPSBmdW5jdGlvbiB1bmVzY2FwZWRWYWx1ZSAodG9rZW4sIGNvbnRleHQpIHtcbiAgICB2YXIgdmFsdWUgPSBjb250ZXh0Lmxvb2t1cCh0b2tlblsxXSk7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpXG4gICAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS5lc2NhcGVkVmFsdWUgPSBmdW5jdGlvbiBlc2NhcGVkVmFsdWUgKHRva2VuLCBjb250ZXh0KSB7XG4gICAgdmFyIHZhbHVlID0gY29udGV4dC5sb29rdXAodG9rZW5bMV0pO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKVxuICAgICAgcmV0dXJuIG11c3RhY2hlLmVzY2FwZSh2YWx1ZSk7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS5yYXdWYWx1ZSA9IGZ1bmN0aW9uIHJhd1ZhbHVlICh0b2tlbikge1xuICAgIHJldHVybiB0b2tlblsxXTtcbiAgfTtcblxuICB2YXIgbXVzdGFjaGUgPSB7XG4gICAgbmFtZTogJ211c3RhY2hlLmpzJyxcbiAgICB2ZXJzaW9uOiAnNC4wLjEnLFxuICAgIHRhZ3M6IFsgJ3t7JywgJ319JyBdLFxuICAgIGNsZWFyQ2FjaGU6IHVuZGVmaW5lZCxcbiAgICBlc2NhcGU6IHVuZGVmaW5lZCxcbiAgICBwYXJzZTogdW5kZWZpbmVkLFxuICAgIHJlbmRlcjogdW5kZWZpbmVkLFxuICAgIFNjYW5uZXI6IHVuZGVmaW5lZCxcbiAgICBDb250ZXh0OiB1bmRlZmluZWQsXG4gICAgV3JpdGVyOiB1bmRlZmluZWQsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIGEgdXNlciB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjYWNoaW5nIHN0cmF0ZWd5LCBieSBwcm92aWRpbmcgYW5cbiAgICAgKiBvYmplY3Qgd2l0aCBzZXQsIGdldCBhbmQgY2xlYXIgbWV0aG9kcy4gVGhpcyBjYW4gYWxzbyBiZSB1c2VkIHRvIGRpc2FibGVcbiAgICAgKiB0aGUgY2FjaGUgYnkgc2V0dGluZyBpdCB0byB0aGUgbGl0ZXJhbCBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBzZXQgdGVtcGxhdGVDYWNoZSAoY2FjaGUpIHtcbiAgICAgIGRlZmF1bHRXcml0ZXIudGVtcGxhdGVDYWNoZSA9IGNhY2hlO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGVmYXVsdCBvciBvdmVycmlkZGVuIGNhY2hpbmcgb2JqZWN0IGZyb20gdGhlIGRlZmF1bHQgd3JpdGVyLlxuICAgICAqL1xuICAgIGdldCB0ZW1wbGF0ZUNhY2hlICgpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0V3JpdGVyLnRlbXBsYXRlQ2FjaGU7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFsbCBoaWdoLWxldmVsIG11c3RhY2hlLiogZnVuY3Rpb25zIHVzZSB0aGlzIHdyaXRlci5cbiAgdmFyIGRlZmF1bHRXcml0ZXIgPSBuZXcgV3JpdGVyKCk7XG5cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgY2FjaGVkIHRlbXBsYXRlcyBpbiB0aGUgZGVmYXVsdCB3cml0ZXIuXG4gICAqL1xuICBtdXN0YWNoZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSAoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRXcml0ZXIuY2xlYXJDYWNoZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQYXJzZXMgYW5kIGNhY2hlcyB0aGUgZ2l2ZW4gdGVtcGxhdGUgaW4gdGhlIGRlZmF1bHQgd3JpdGVyIGFuZCByZXR1cm5zIHRoZVxuICAgKiBhcnJheSBvZiB0b2tlbnMgaXQgY29udGFpbnMuIERvaW5nIHRoaXMgYWhlYWQgb2YgdGltZSBhdm9pZHMgdGhlIG5lZWQgdG9cbiAgICogcGFyc2UgdGVtcGxhdGVzIG9uIHRoZSBmbHkgYXMgdGhleSBhcmUgcmVuZGVyZWQuXG4gICAqL1xuICBtdXN0YWNoZS5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlICh0ZW1wbGF0ZSwgdGFncykge1xuICAgIHJldHVybiBkZWZhdWx0V3JpdGVyLnBhcnNlKHRlbXBsYXRlLCB0YWdzKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVycyB0aGUgYHRlbXBsYXRlYCB3aXRoIHRoZSBnaXZlbiBgdmlld2AgYW5kIGBwYXJ0aWFsc2AgdXNpbmcgdGhlXG4gICAqIGRlZmF1bHQgd3JpdGVyLiBJZiB0aGUgb3B0aW9uYWwgYHRhZ3NgIGFyZ3VtZW50IGlzIGdpdmVuIGhlcmUgaXQgbXVzdCBiZSBhblxuICAgKiBhcnJheSB3aXRoIHR3byBzdHJpbmcgdmFsdWVzOiB0aGUgb3BlbmluZyBhbmQgY2xvc2luZyB0YWdzIHVzZWQgaW4gdGhlXG4gICAqIHRlbXBsYXRlIChlLmcuIFsgXCI8JVwiLCBcIiU+XCIgXSkuIFRoZSBkZWZhdWx0IGlzIHRvIG11c3RhY2hlLnRhZ3MuXG4gICAqL1xuICBtdXN0YWNoZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgdGFncykge1xuICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHRlbXBsYXRlISBUZW1wbGF0ZSBzaG91bGQgYmUgYSBcInN0cmluZ1wiICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYnV0IFwiJyArIHR5cGVTdHIodGVtcGxhdGUpICsgJ1wiIHdhcyBnaXZlbiBhcyB0aGUgZmlyc3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCBmb3IgbXVzdGFjaGUjcmVuZGVyKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscyknKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFdyaXRlci5yZW5kZXIodGVtcGxhdGUsIHZpZXcsIHBhcnRpYWxzLCB0YWdzKTtcbiAgfTtcblxuICAvLyBFeHBvcnQgdGhlIGVzY2FwaW5nIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIHVzZXIgbWF5IG92ZXJyaWRlIGl0LlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phbmwvbXVzdGFjaGUuanMvaXNzdWVzLzI0NFxuICBtdXN0YWNoZS5lc2NhcGUgPSBlc2NhcGVIdG1sO1xuXG4gIC8vIEV4cG9ydCB0aGVzZSBtYWlubHkgZm9yIHRlc3RpbmcsIGJ1dCBhbHNvIGZvciBhZHZhbmNlZCB1c2FnZS5cbiAgbXVzdGFjaGUuU2Nhbm5lciA9IFNjYW5uZXI7XG4gIG11c3RhY2hlLkNvbnRleHQgPSBDb250ZXh0O1xuICBtdXN0YWNoZS5Xcml0ZXIgPSBXcml0ZXI7XG5cbiAgcmV0dXJuIG11c3RhY2hlO1xuXG59KSkpO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIqe21hcmdpbjowO3BhZGRpbmc6MDtib3gtc2l6aW5nOmJvcmRlci1ib3h9Kjo6c2VsZWN0aW9ue2JhY2tncm91bmQ6I2YwNmQwNjUwfWJvZHl7Zm9udC1mYW1pbHk6Sm9zdCwgJ3NhbnMtc2VyaWYnO2JhY2tncm91bmQ6IzJmMmQyZTtjb2xvcjojZjhmOGY4O21hcmdpbjoxMHB4fSNuZXctbm90ZXtwb3NpdGlvbjpmaXhlZDtyaWdodDoxMHB4O3RvcDoxMHB4O3otaW5kZXg6MTA7YmFja2dyb3VuZDojMDQ4YmE4O3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7Ym9yZGVyLXJhZGl1czo1MCU7ZGlzcGxheTpncmlkO3BsYWNlLWl0ZW1zOmNlbnRlcjtjb2xvcjp3aGl0ZTtjdXJzb3I6cG9pbnRlcn0jbmV3LW5vdGU6aG92ZXJ7Y29sb3I6IzJlNDA1N31AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0ODBweCl7I25ldy1ub3Rle2JvdHRvbToxMHB4O3RvcDppbml0aWFsO3Bvc2l0aW9uOmZpeGVkfX0jbm90ZXN7ZGlzcGxheTpibG9jaztjb2x1bW4tY291bnQ6NDtjb2x1bW4tZ2FwOjIwcHg7Y29sdW1uLWZpbGw6YXV0bztjb2x1bW4td2lkdGg6MzAwcHg7aGVpZ2h0OmNhbGMoMTAwdmggLSA0MHB4KX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0ODBweCl7I25vdGVze2NvbHVtbi1jb3VudDoxO2hlaWdodDppbml0aWFsfX0ubm90ZXtkaXNwbGF5OmZsZXg7YmFja2dyb3VuZDojZmRmMzhkO2NvbG9yOiMyZjJkMmU7bWFyZ2luLWJvdHRvbToyMHB4O2JyZWFrLWluc2lkZTphdm9pZH0ubm90ZSAubm90ZS1oZWFkZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0ubm90ZSAubm90ZS1oZWFkZXIgaXtmb250LXNpemU6MXJlbTtjdXJzb3I6cG9pbnRlcjtjb2xvcjojMmYyZDJlfS5ub3RlIC5ub3RlLWhlYWRlciBoMntmb250LXNpemU6MXJlbTtmb250LXdlaWdodDozMDB9Lm5vdGUgLm5vdGUtaGVhZGVyIC5ub3RlLWFjdGlvbnN7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0ubm90ZSAubm90ZS1jb2xvci1zZWxlY3R7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZTthbGlnbi1zZWxmOmZsZXgtc3RhcnR9Lm5vdGUgLm5vdGUtY29sb3Itc2VsZWN0IHVse2xpc3Qtc3R5bGUtdHlwZTpub25lO2JhY2tncm91bmQ6d2hpdGU7cGFkZGluZzo1cHh9Lm5vdGUgLm5vdGUtY29sb3Itc2VsZWN0IHVsIGxpe2hlaWdodDoyMHB4O3dpZHRoOjIwcHg7Y3Vyc29yOnBvaW50ZXJ9Li0teWVsbG93e2JhY2tncm91bmQ6I2ZkZjM4ZH0uLS1ncmVlbntiYWNrZ3JvdW5kOiNhZmZmYTd9Li0tcGlua3tiYWNrZ3JvdW5kOiNlYWI0ZmZ9Li0tcmVke2JhY2tncm91bmQ6I2ZmOTY5Nn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwiaW1wb3J0ICogYXMgTXVzdGFjaGUgZnJvbSAnbXVzdGFjaGUnO1xyXG5pbXBvcnQgRGF0ZVRpbWVGb3JtYXQgPSBJbnRsLkRhdGVUaW1lRm9ybWF0O1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGUge1xyXG5cclxuICAgIHByaXZhdGUgaWQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgdGl0bGU6IHN0cmluZztcclxuICAgIHByaXZhdGUgY29udGVudDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBzdGF0dXM6IHN0cmluZztcclxuICAgIHByaXZhdGUgdGVtcGxhdGU6IHN0cmluZztcclxuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgY29sb3I6IHN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBvbmVMaW5lcnM6IGFueSA9IFtcclxuICAgICAgICAnV2hhdCBpcyB0aGUgYmlnZ2VzdCBsaWUgaW4gdGhlIGVudGlyZSB1bml2ZXJzZT8gPGJyPlwiSSBoYXZlIHJlYWQgYW5kIGFncmVlIHRvIHRoZSBUZXJtcyAmIENvbmRpdGlvbnMuXCInLFxyXG4gICAgICAgICdIb3cgZG9lcyBhIGNvbXB1dGVyIGdldCBkcnVuaz8gPGJyPkl0IHRha2VzIHNjcmVlbnNob3RzLiAnLFxyXG4gICAgICAgIC8vICdXaHkgYXJlIGlQaG9uZSBjaGFyZ2VycyBub3QgY2FsbGVkIEFwcGxlIEp1aWNlPyEnLFxyXG4gICAgICAgIC8vICdXaHkgZGlkIHRoZSBQb3dlclBvaW50IFByZXNlbnRhdGlvbiBjcm9zcyB0aGUgcm9hZD8gPGJyPlRvIGdldCB0byB0aGUgb3RoZXIgc2xpZGUuJyxcclxuICAgICAgICAnSGF2ZSB5b3UgaGVhcmQgb2YgdGhhdCBuZXcgYmFuZCBcIjEwMjMgTWVnYWJ5dGVzXCI/IFRoZXlcXCdyZSBwcmV0dHkgZ29vZCwgYnV0IHRoZXkgZG9uXFwndCBoYXZlIGEgZ2lnIGp1c3QgeWV0LicsXHJcbiAgICAgICAgJ1dlXFwnbGwgd2VcXCdsbCB3ZVxcJ2xsLi4uaWYgaXQgaXNuXFwndCBhdXRvY29ycmVjdC4nLFxyXG4gICAgICAgICdNeSBjb21wdXRlciBzdWRkZW5seSBzdGFydGVkIGJlbHRpbmcgb3V0IFwiU29tZW9uZSBMaWtlIFlvdS5cIiBJdFxcJ3MgYSBEZWxsLiAnLFxyXG4gICAgXTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBkYXRlT3B0aW9ucyA9IHtcclxuICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXHJcbiAgICAgICAgbW9udGg6ICdsb25nJyxcclxuICAgICAgICBkYXk6ICdudW1lcmljJyxcclxuICAgICAgICBob3VyOiAnbnVtZXJpYycsXHJcbiAgICAgICAgbWludXRlOiAnbnVtZXJpYycsXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaWQ9XCJ0cGwtbm90ZVwiXScpLmlubmVySFRNTDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0SWQoaWQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUaXRsZSh0aXRsZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldENvbnRlbnQoY29udGVudDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTdGF0dXMoc3RhdHVzOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcclxuICAgIH1cclxuXHJcbiAgICBnZXRJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUaXRsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50aXRsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb250ZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RhdHVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXR1cztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2VuZXJhdGVJZCgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDb2xvcihjb2xvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbG9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5nZXREYXRhKCk7XHJcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBlbC5pbm5lckhUTUwgPSBNdXN0YWNoZS5yZW5kZXIodGhpcy50ZW1wbGF0ZSwgY29udGV4dClcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNyZWF0ZU5ld05vdGUoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IHNlbGYgPSBuZXcgTm90ZShjb250YWluZXIpO1xyXG4gICAgICAgIGxldCBkdGYgPSBuZXcgRGF0ZVRpbWVGb3JtYXQoJ25vLU5CJywgTm90ZS5kYXRlT3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHNlbGYuaWQgPSBOb3RlLmdlbmVyYXRlSWQoKTtcclxuICAgICAgICBzZWxmLnRpdGxlID0gZHRmLmZvcm1hdCgoRGF0ZS5ub3coKSkpO1xyXG4gICAgICAgIHNlbGYuY29udGVudCA9IE5vdGUub25lTGluZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE5vdGUub25lTGluZXJzLmxlbmd0aCldXHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50LFxyXG4gICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSxcclxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcclxuICAgICAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQge05vdGVEYXRhfSBmcm9tIFwiLi9saWJcIjtcclxuaW1wb3J0ICogYXMgTXVzdGFjaGUgZnJvbSAnbXVzdGFjaGUnO1xyXG5pbXBvcnQgTm90ZSBmcm9tIFwiLi9Ob3RlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RlcyB7XHJcblxyXG4gICAgcHJpdmF0ZSBkYXRhOiBOb3RlRGF0YTtcclxuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgbm90ZVRlbXBsYXRlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pZD1cInRwbC1ub3Rlc1wiXScpLmlubmVySFRNTDtcclxuICAgICAgICB0aGlzLm5vdGVUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWlkPVwidHBsLW5vdGVcIl0nKS5pbm5lckhUTUw7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXREYXRhKCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB0aGlzLnNldHVwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluaXQoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIG5ldyBOb3Rlcyhjb250YWluZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwKCkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIG5ld0J0bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ldy1ub3RlJyksXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtZW50cy5uZXdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTmV3Tm90ZSgpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZihldi5zaGlmdEtleSAmJiBldi5jdHJsS2V5ICYmIGV2LmtleSA9PT0gJ04nKSB7XHJcbiAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU5ld05vdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNhdmUoKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS5ub3Rlcyk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25vdGVzJywgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2F2ZWROb3RlcygpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdub3RlcycpO1xyXG4gICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICBOb3RlLmNyZWF0ZU5ld05vdGUodGhpcy5jb250YWluZXIpXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IGh0bWwgPSB0aGlzLnRlbXBsYXRlLFxyXG4gICAgICAgICAgICBwYXJ0aWFscyA9IHtcclxuICAgICAgICAgICAgICAgIG5vdGU6IHRoaXMubm90ZVRlbXBsYXRlLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBNdXN0YWNoZS5yZW5kZXIoaHRtbCwgY29udGV4dCwgcGFydGlhbHMpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBOb3RlcygpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTmV3Tm90ZSgpIHtcclxuICAgICAgICBjb25zdCBub3RlID0gTm90ZS5jcmVhdGVOZXdOb3RlKHRoaXMuY29udGFpbmVyKVxyXG4gICAgICAgIHRoaXMuZGF0YS5ub3Rlcy5wdXNoKG5vdGUuZ2V0RGF0YSgpKVxyXG4gICAgICAgIHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgY29uc3QgZWxOb3RlOiBhbnkgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pZD1cIicgKyBub3RlLmdldElkKCkgKyAnXCJdJyk7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGVsTm90ZS5xdWVyeVNlbGVjdG9yKCcubm90ZS1jb250ZW50Jyk7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoY29udGVudCk7XHJcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXREYXRhKCk6IE5vdGVEYXRhIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBub3RlczogdGhpcy5nZXRTYXZlZE5vdGVzKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Tm90ZUJ5SWQoaWQ6IG51bWJlcikge1xyXG4gICAgICAgIGZvciAoY29uc3Qgbm90ZSBvZiB0aGlzLmRhdGEubm90ZXMpIHtcclxuICAgICAgICAgICAgaWYoaWQgPT09IG5vdGUuaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub3RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge31cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwTm90ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudHM6IGFueSA9IHtcclxuICAgICAgICAgICAgbm90ZXM6IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RlJyksXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IG5vdGUgb2YgZWxlbWVudHMubm90ZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR1cE5vdGUobm90ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXBOb3RlKG5vdGU6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQobm90ZS5kYXRhc2V0LmlkKTtcclxuICAgICAgICBjb25zdCBlbGVtZW50czogYW55ID0ge1xyXG4gICAgICAgICAgICBkZWxldGU6IG5vdGUucXVlcnlTZWxlY3RvcignLmRlbGV0ZS1ub3RlJyksXHJcbiAgICAgICAgICAgIHRpdGxlOiBub3RlLnF1ZXJ5U2VsZWN0b3IoJ2gyLm5vdGUtdGl0bGUnKSxcclxuICAgICAgICAgICAgY29udGVudDogbm90ZS5xdWVyeVNlbGVjdG9yKCdwLm5vdGUtY29udGVudCcpLFxyXG4gICAgICAgICAgICBjb2xvclNlbGVjdDogbm90ZS5xdWVyeVNlbGVjdG9yKCcubm90ZS1jb2xvci1zZWxlY3QnKSxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsZW1lbnRzLmRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVOb3RlKGlkKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxldCB0aW1lb3V0SWQ6IGFueTtcclxuICAgICAgICBlbGVtZW50cy50aXRsZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBub3RlID0gdGhpcy5nZXROb3RlQnlJZChpZCk7XHJcbiAgICAgICAgICAgICAgICBub3RlLnRpdGxlID0gZXYudGFyZ2V0LmlubmVyVGV4dDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgICAgICB9LCAyMDApXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZWxlbWVudHMuY29udGVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBub3RlID0gdGhpcy5nZXROb3RlQnlJZChpZCk7XHJcbiAgICAgICAgICAgICAgICBub3RlLmNvbnRlbnQgPSBldi50YXJnZXQuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlKCk7XHJcbiAgICAgICAgICAgIH0sIDIwMClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBlbGVtZW50cy50aXRsZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYoZXYua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vdGUgPSB0aGlzLmdldE5vdGVCeUlkKGlkKTtcclxuICAgICAgICAgICAgICAgIG5vdGUudGl0bGUgPSBldi50YXJnZXQuaW5uZXJUZXh0O1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMudGl0bGUuYmx1cigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBlbGVtZW50cy5jb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZihldi5rZXkgPT09ICdFbnRlcicgJiYgZXYuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm90ZSA9IHRoaXMuZ2V0Tm90ZUJ5SWQoaWQpO1xyXG4gICAgICAgICAgICAgICAgbm90ZS5jb250ZW50ID0gZXYudGFyZ2V0LmlubmVySFRNTFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuY29udGVudC5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlTmV3Tm90ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZWxlbWVudHMuY29sb3JTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhldik7XHJcbiAgICAgICAgICAgIGxldCBub3RlID0gdGhpcy5nZXROb3RlQnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmKGV2LnRhcmdldC5kYXRhc2V0LmNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICBub3RlLmNvbG9yID0gZXYudGFyZ2V0LmRhdGFzZXQuY29sb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zYXZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZWxldGVOb3RlKGlkOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmRhdGEubm90ZXMgPSB0aGlzLmRhdGEubm90ZXMuZmlsdGVyKCh2YWx1ZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5pZCAhPT0gaWQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0ICcuL2Nzcy9tYWluLnNjc3MnO1xyXG5pbXBvcnQgTm90ZXMgZnJvbSBcIi4vTm90ZXNcIjtcclxuaW1wb3J0IE5vdGUgZnJvbSBcIi4vTm90ZVwiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIE5vdGVzLmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25vdGVzJykpO1xyXG59KSJdLCJzb3VyY2VSb290IjoiIn0=